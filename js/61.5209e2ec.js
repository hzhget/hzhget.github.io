(self["webpackChunkshowroom_web"]=self["webpackChunkshowroom_web"]||[]).push([[61],{9783:(t,n,o)=>{"use strict";o.d(n,{q:()=>C});var e,a=o(5718),i=o(6681),r=o(556),p=o(589),c=o(677),u=o(1959);(function(t){t["GET_SHOPPING_CART"]="/getShoppingCart",t["CLEAR_SHOPPING_CART"]="/doClearShoppingCart",t["ADD_TO_SHOPPING_CART"]="/addShoppingCart",t["ADD_SHOPPING_CART_QUANTITY"]="/addShoppingCartQuantity",t["DEL_SHOPPING_CART_QUANTITY"]="/delShoppingCartQuantity",t["EDIT_SHOPPING_CART_QUANTITY"]="/editShoppingCartQuantity"})(e||(e={}));const d=function(){const t=[];for(let n=1;n<=10;n++)t.push({productId:"productId".concat(n.toString()),barcode:"barcode".concat(n.toString()),gfNumber:"gfNumber".concat(n.toString()),quantity:n,img:"https://cdn.quasar.dev/img/parallax2.jpg",fabrication:"fabrication".concat(n.toString()),fabricWidth:"fabricWidth".concat(n.toString()),finishing:"finishing".concat(n.toString()),composition:"composition".concat(n.toString()),dyeMethod:"dyeMethod".concat(n.toString()),construction:"construction".concat(n.toString())});return new Promise((n=>{n(t)}))},l=function(){return new Promise((t=>{t(!0)}))},s=function(t){return new Promise((t=>{t(!0)}))},h=function(t){return new Promise((t=>{t(!0)}))};var g=function(t,n,o,e){var a,i=arguments.length,r=i<3?n:null===e?e=Object.getOwnPropertyDescriptor(n,o):e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,n,o,e);else for(var p=t.length-1;p>=0;p--)(a=t[p])&&(r=(i<3?a(r):i>3?a(n,o,r):a(n,o))||r);return i>3&&r&&Object.defineProperty(n,o,r),r},m=function(t,n,o,e){function a(t){return t instanceof o?t:new o((function(n){n(t)}))}return new(o||(o=Promise))((function(o,i){function r(t){try{c(e.next(t))}catch(n){i(n)}}function p(t){try{c(e["throw"](t))}catch(n){i(n)}}function c(t){t.done?o(t.value):a(t.value).then(r,p)}c((e=e.apply(t,n||[])).next())}))};const S="shoppingCart";(0,i.i)(S);let f=class extends a.g4{constructor(){super(...arguments),this.shoppingCartState=p.Z.getItem(c.EC)||[]}get getShoppingCartState(){return this.shoppingCartState}get getShoppingCartCountState(){let t=0;return this.shoppingCartState.forEach((n=>t+=n.quantity)),t}commitResetState(){this.shoppingCartState=[]}commitShoppingCartState(t){t.length>0&&(this.shoppingCartState=[]),this.shoppingCartState=t,p.Z.set(c.EC,t)}addToShoppingCart(t){const n=(0,u.IU)(this.shoppingCartState);!t||t instanceof Array||(t=[t]),t.forEach((t=>{const o=n.findIndex((n=>n.productId===t.productId));o>-1?n[o].quantity+=t.quantity:n.push({productId:t.productId,quantity:t.quantity})})),this.commitShoppingCartState(n)}deleteFromShoppingCart(t){const n=(0,u.IU)(this.shoppingCartState);t instanceof Array||(t=[t]),t.forEach((t=>{const o=n.findIndex((n=>n.productId===t.productId));let e=!1;o>-1&&(n[o].quantity-=t.quantity,e=n[o].quantity<1),e&&n.splice(o,1)})),this.commitShoppingCartState(n)}editShoppingCart(t){const n=(0,u.IU)(this.shoppingCartState);t instanceof Array||(t=[t]),t.forEach((t=>{const o=n.findIndex((n=>n.productId===t.productId));let e=!1;o>-1&&(n[o].quantity=t.quantity,e=n[o].quantity<1),e&&n.splice(o,1)})),this.commitShoppingCartState(n)}clearShoppingCart(){return m(this,void 0,void 0,(function*(){return l().then((()=>(this.commitShoppingCartState([]),!0))).catch((()=>!1))}))}loadShoppingCart(){return m(this,void 0,void 0,(function*(){return d().then((t=>{const n=[];return t.forEach((t=>{n.push({productId:t.productId,quantity:t.quantity})})),this.commitShoppingCartState(n),t})).catch((()=>[]))}))}addShoppingCartQuantity(t){return m(this,void 0,void 0,(function*(){return s({productId:t,action:"add"}).then((()=>(this.addToShoppingCart(t.map((t=>({productId:t,quantity:1})))),!0))).catch((()=>!1))}))}delShoppingCartQuantity(t){return m(this,void 0,void 0,(function*(){return s({productId:t,action:"del"}).then((()=>(this.deleteFromShoppingCart(t.map((t=>({productId:t,quantity:1})))),!0))).catch((()=>!1))}))}editShoppingCartQuantity(t){return m(this,void 0,void 0,(function*(){return h(t).then((()=>(this.editShoppingCart(t),!0))).catch((()=>!1))}))}};g([a.mm],f.prototype,"commitResetState",null),g([a.mm],f.prototype,"commitShoppingCartState",null),g([a.aU],f.prototype,"addToShoppingCart",null),g([a.aU],f.prototype,"deleteFromShoppingCart",null),g([a.aU],f.prototype,"editShoppingCart",null),g([a.aU],f.prototype,"clearShoppingCart",null),g([a.aU],f.prototype,"loadShoppingCart",null),g([a.aU],f.prototype,"addShoppingCartQuantity",null),g([a.aU],f.prototype,"delShoppingCartQuantity",null),g([a.aU],f.prototype,"editShoppingCartQuantity",null),f=g([(0,a.Yl)({namespaced:!0,name:S,dynamic:!0,store:r.default})],f);const C=(0,a.rT)(f)},7061:(t,n,o)=>{"use strict";o.r(n),o.d(n,{default:()=>w});var e=o(3673),a=o(2323);const i=(0,e.HX)("data-v-4031f3b4");(0,e.dD)("data-v-4031f3b4");const r={class:"q-pa-md"},p=(0,e.Wm)("div",{class:"text-h4 title-height",style:{color:"#e34d4d"}},"SHOPPING CART",-1),c={class:"text-h6"},u={class:"button-height q-pa-xs",style:{"align-self":"center"}};(0,e.Cn)();const d=i(((t,n,o,d,l,s)=>{const h=(0,e.up)("q-item-section"),g=(0,e.up)("q-item-label"),m=(0,e.up)("q-btn"),S=(0,e.up)("q-input"),f=(0,e.up)("q-item"),C=(0,e.up)("q-separator"),y=(0,e.up)("q-list"),I=(0,e.up)("q-scroll-area");return(0,e.wg)(),(0,e.j4)("div",r,[p,(0,e.Wm)(I,{class:"full-width list-height"},{default:i((()=>[((0,e.wg)(!0),(0,e.j4)(e.HY,null,(0,e.Ko)(t.info,(n=>((0,e.wg)(),(0,e.j4)(y,{key:n},{default:i((()=>[(0,e.Wm)(f,null,{default:i((()=>[(0,e.Wm)(h,{thumbnail:"",top:""},{default:i((()=>[(0,e.Wm)("img",{src:n.img},null,8,["src"])])),_:2},1024),(0,e.Wm)(h,{top:""},{default:i((()=>[(0,e.Wm)(g,{lines:"1"},{default:i((()=>[(0,e.Wm)("span",c,(0,a.zw)(n.gfNumber),1)])),_:2},1024),(0,e.Wm)(g,{caption:"",lines:"1"},{default:i((()=>[(0,e.Uk)((0,a.zw)(n.fabrication)+"|"+(0,a.zw)(n.fabricWidth)+"|"+(0,a.zw)(n.finishing)+"|"+(0,a.zw)(n.composition)+"|"+(0,a.zw)(n.dyeMethod)+"|"+(0,a.zw)(n.construction),1)])),_:2},1024)])),_:2},1024),(0,e.Wm)(h,{top:"",side:""},{default:i((()=>[(0,e.Wm)(S,{borderless:"","input-style":{width:"50px","text-align":"center"},"item-aligned":"",modelValue:n.quantity,"onUpdate:modelValue":t=>n.quantity=t,type:"number",min:"1"},{before:i((()=>[(0,e.Wm)(m,{class:"text-grey-8",flat:"",icon:"add",onClick:o=>t.handleAddQuantity(n)},null,8,["onClick"])])),after:i((()=>[(0,e.Wm)(m,{class:"text-grey-8",flat:"",icon:"remove",onClick:o=>t.handleDelQuantity(n)},null,8,["onClick"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,e.Wm)(h,{top:"",side:""},{default:i((()=>[(0,e.Wm)(m,{class:"text-grey-8 gt-xs",size:"20px",flat:"",round:"",icon:"delete",onClick:o=>t.handleDelShoppingCart(n)},null,8,["onClick"])])),_:2},1024)])),_:2},1024),(0,e.Wm)(C,{spaced:"",inset:""})])),_:2},1024)))),128))])),_:1}),(0,e.Wm)("div",u,[(0,e.Wm)(m,{class:"float-left text-grey-8","no-caps":"",flat:"",icon:"delete",label:"Empty Cart",size:"md",onClick:t.doClearCart},null,8,["onClick"]),(0,e.Wm)(m,{class:"float-right","no-caps":"",style:{background:"#FF0080",color:"white"},label:"Process to Checkout",size:"md",onClick:t.doNext},null,8,["onClick"])])])}));var l=o(1959),s=o(9582),h=o(9783);const g=(0,e.aZ)({setup(){const t=(0,l.iH)([]),{push:n}=(0,s.tv)();h.q.loadShoppingCart().then((n=>{t.value=n}));const o=()=>{h.q.clearShoppingCart().then((n=>t.value=[]))},e=()=>n({name:"ShoppingTo"}),a=t=>{const n=(0,l.SU)(t);n.quantity++,h.q.addShoppingCartQuantity([t.productId]).then((n=>n&&t.quantity++))},i=t=>{const n=(0,l.SU)(t);n.quantity--,h.q.delShoppingCartQuantity([t.productId]).then((n=>n&&t.quantity--))},r=n=>{const o=(0,l.SU)(n);o.quantity=0,h.q.editShoppingCartQuantity([{productId:n.productId,quantity:0}]).then((o=>{if(o){const o=t.value.findIndex((t=>t.productId===n.productId));o>-1&&t.value.splice(o,1)}}))};return{info:t,doClearCart:o,handleAddQuantity:a,handleDelQuantity:i,handleDelShoppingCart:r,doNext:e}}});var m=o(7704),S=o(7011),f=o(6332),C=o(2035),y=o(2350),I=o(4842),q=o(8240),b=o(5869),v=o(7518),_=o.n(v);g.render=d,g.__scopeId="data-v-4031f3b4";const w=g;_()(g,"components",{QScrollArea:m.Z,QList:S.Z,QItem:f.Z,QItemSection:C.Z,QItemLabel:y.Z,QInput:I.Z,QBtn:q.Z,QSeparator:b.Z})}}]);