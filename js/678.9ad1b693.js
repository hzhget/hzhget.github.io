(self["webpackChunkshowroom_web"]=self["webpackChunkshowroom_web"]||[]).push([[678],{5678:(e,n,o)=>{"use strict";o.r(n),o.d(n,{default:()=>k});var i=o(3673),t=o(2323);const c={id:"scanner-container"},r={ref:"scannerRef","webkit-playsinline":"true",playsinline:"true",id:"video"},a={id:"info"},d=(0,i.Uk)("Start"),s=(0,i.Uk)("Reset");function u(e,n,o,u,l,v){const f=(0,i.up)("q-btn");return(0,i.wg)(),(0,i.j4)("div",c,[(0,i.Wm)("video",r,null,512),(0,i.Wm)("div",a,[(0,i.Wm)("div",null,"Barcode: "+(0,t.zw)(e.barcode),1),(0,i.Wm)("div",null,[(0,i.Wm)(f,{onClick:e.scan},{default:(0,i.w5)((()=>[d])),_:1},8,["onClick"]),(0,i.Wm)(f,{onClick:e.handleReset},{default:(0,i.w5)((()=>[s])),_:1},8,["onClick"])]),(0,i.Wm)("pre",null,(0,t.zw)(e.videoDevices),1)])])}var l=o(1959),v=o(3450),f=function(e,n,o,i){function t(e){return e instanceof o?e:new o((function(n){n(e)}))}return new(o||(o=Promise))((function(o,c){function r(e){try{d(i.next(e))}catch(n){c(n)}}function a(e){try{d(i["throw"](e))}catch(n){c(n)}}function d(e){e.done?o(e.value):t(e.value).then(r,a)}d((i=i.apply(e,n||[])).next())}))};function p(){const e=new Map,n=[v.BarcodeFormat.CODE_39,v.BarcodeFormat.CODABAR];e.set(v.DecodeHintType.POSSIBLE_FORMATS,n);const o=new v.BrowserMultiFormatReader(e),i=(0,l.iH)(navigator&&navigator.mediaDevices&&"enumerateDevices"in navigator.mediaDevices);return{codeReader:o,isMediaStreamAPISupported:i}}function m(e){const n=(0,l.iH)([]);return(0,i.bv)((()=>f(this,void 0,void 0,(function*(){n.value=yield e.listVideoInputDevices(),console.log("videoDevices:",n)})))),{videoDevices:n}}function w(e){const n=new Audio("~/scan.mp3"),o=(0,l.iH)(null),i=(0,l.iH)(""),t=(0,l.iH)(null),c=()=>e.decodeFromVideoDevice(t.value,o.value,((e,o)=>f(this,void 0,void 0,(function*(){e&&(console.log(e),i.value=e.getText(),yield n.play()),!o||o instanceof v.NotFoundException||console.error(o)}))));return{scan:c,scannerRef:o,barcode:i,deviceID:t}}const D=(0,i.aZ)({setup(){const{codeReader:e,isMediaStreamAPISupported:n}=p();if(!n.value)throw new Error("Media Stream API is not supported");const{videoDevices:o}=m(e),{deviceID:i,scan:t,scannerRef:c,barcode:r}=w(e),a=()=>{e.reset()};return{scan:t,scannerRef:c,barcode:r,videoDevices:o,deviceID:i,handleReset:a,isMediaStreamAPISupported:n}}});var h=o(8240),R=o(7518),b=o.n(R);D.render=u;const k=D;b()(D,"components",{QBtn:h.Z})}}]);