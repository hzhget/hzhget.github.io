(self["webpackChunkshowroom_web"]=self["webpackChunkshowroom_web"]||[]).push([[179],{9783:(e,t,i)=>{"use strict";i.d(t,{q:()=>b});var o,n=i(5718),a=i(6681),l=i(556),r=i(589),d=i(677),c=i(1959);(function(e){e["GET_SHOPPING_CART"]="/getShoppingCart",e["CLEAR_SHOPPING_CART"]="/doClearShoppingCart",e["ADD_TO_SHOPPING_CART"]="/addShoppingCart",e["ADD_SHOPPING_CART_QUANTITY"]="/addShoppingCartQuantity",e["DEL_SHOPPING_CART_QUANTITY"]="/delShoppingCartQuantity",e["EDIT_SHOPPING_CART_QUANTITY"]="/editShoppingCartQuantity"})(o||(o={}));const p=function(){const e=[];for(let t=1;t<=10;t++)e.push({productId:"productId".concat(t.toString()),barcode:"barcode".concat(t.toString()),gfNumber:"gfNumber".concat(t.toString()),quantity:t,img:"https://cdn.quasar.dev/img/parallax2.jpg",fabrication:"fabrication".concat(t.toString()),fabricWidth:"fabricWidth".concat(t.toString()),finishing:"finishing".concat(t.toString()),composition:"composition".concat(t.toString()),dyeMethod:"dyeMethod".concat(t.toString()),construction:"construction".concat(t.toString())});return new Promise((t=>{t(e)}))},s=function(){return new Promise((e=>{e(!0)}))},u=function(e){return new Promise((e=>{e(!0)}))},m=function(e){return new Promise((e=>{e(!0)}))};var g=function(e,t,i,o){var n,a=arguments.length,l=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,i,o);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(l=(a<3?n(l):a>3?n(t,i,l):n(t,i))||l);return a>3&&l&&Object.defineProperty(t,i,l),l},h=function(e,t,i,o){function n(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,a){function l(e){try{d(o.next(e))}catch(t){a(t)}}function r(e){try{d(o["throw"](e))}catch(t){a(t)}}function d(e){e.done?i(e.value):n(e.value).then(l,r)}d((o=o.apply(e,t||[])).next())}))};const f="shoppingCart";(0,a.i)(f);let y=class extends n.g4{constructor(){super(...arguments),this.shoppingCartState=r.Z.getItem(d.EC)||[]}get getShoppingCartState(){return this.shoppingCartState}get getShoppingCartCountState(){let e=0;return this.shoppingCartState.forEach((t=>e+=t.quantity)),e}commitResetState(){this.shoppingCartState=[]}commitShoppingCartState(e){e.length>0&&(this.shoppingCartState=[]),this.shoppingCartState=e,r.Z.set(d.EC,e)}addToShoppingCart(e){const t=(0,c.IU)(this.shoppingCartState);!e||e instanceof Array||(e=[e]),e.forEach((e=>{const i=t.findIndex((t=>t.productId===e.productId));i>-1?t[i].quantity+=e.quantity:t.push({productId:e.productId,quantity:e.quantity})})),this.commitShoppingCartState(t)}deleteFromShoppingCart(e){const t=(0,c.IU)(this.shoppingCartState);e instanceof Array||(e=[e]),e.forEach((e=>{const i=t.findIndex((t=>t.productId===e.productId));let o=!1;i>-1&&(t[i].quantity-=e.quantity,o=t[i].quantity<1),o&&t.splice(i,1)})),this.commitShoppingCartState(t)}editShoppingCart(e){const t=(0,c.IU)(this.shoppingCartState);e instanceof Array||(e=[e]),e.forEach((e=>{const i=t.findIndex((t=>t.productId===e.productId));let o=!1;i>-1&&(t[i].quantity=e.quantity,o=t[i].quantity<1),o&&t.splice(i,1)})),this.commitShoppingCartState(t)}clearShoppingCart(){return h(this,void 0,void 0,(function*(){return s().then((()=>(this.commitShoppingCartState([]),!0))).catch((()=>!1))}))}loadShoppingCart(){return h(this,void 0,void 0,(function*(){return p().then((e=>{const t=[];return e.forEach((e=>{t.push({productId:e.productId,quantity:e.quantity})})),this.commitShoppingCartState(t),e})).catch((()=>[]))}))}addShoppingCartQuantity(e){return h(this,void 0,void 0,(function*(){return u({productId:e,action:"add"}).then((()=>(this.addToShoppingCart(e.map((e=>({productId:e,quantity:1})))),!0))).catch((()=>!1))}))}delShoppingCartQuantity(e){return h(this,void 0,void 0,(function*(){return u({productId:e,action:"del"}).then((()=>(this.deleteFromShoppingCart(e.map((e=>({productId:e,quantity:1})))),!0))).catch((()=>!1))}))}editShoppingCartQuantity(e){return h(this,void 0,void 0,(function*(){return m(e).then((()=>(this.editShoppingCart(e),!0))).catch((()=>!1))}))}};g([n.mm],y.prototype,"commitResetState",null),g([n.mm],y.prototype,"commitShoppingCartState",null),g([n.aU],y.prototype,"addToShoppingCart",null),g([n.aU],y.prototype,"deleteFromShoppingCart",null),g([n.aU],y.prototype,"editShoppingCart",null),g([n.aU],y.prototype,"clearShoppingCart",null),g([n.aU],y.prototype,"loadShoppingCart",null),g([n.aU],y.prototype,"addShoppingCartQuantity",null),g([n.aU],y.prototype,"delShoppingCartQuantity",null),g([n.aU],y.prototype,"editShoppingCartQuantity",null),y=g([(0,n.Yl)({namespaced:!0,name:f,dynamic:!0,store:l.default})],y);const b=(0,n.rT)(y)},31:(e,t,i)=>{"use strict";i.d(t,{Z:()=>g});var o=i(3673),n=i(8880);const a={key:0,class:"row"},l={class:"col-md-5 q-py-md"},r={class:"col-md-1 q-pl-xs",style:{width:"50px"}};function d(e,t,i,d,c,p){const s=(0,o.up)("q-pagination"),u=(0,o.up)("q-select");return e.item.pageNumber>0?((0,o.wg)(),(0,o.j4)("div",a,[(0,o.Wm)("div",l,[(0,o.Wm)(s,{modelValue:e.item.page,"onUpdate:modelValue":[t[1]||(t[1]=t=>e.item.page=t),e.changePagination],max:e.item.pageNumber,"max-pages":5,"direction-links":""},null,8,["modelValue","max","onUpdate:modelValue"])]),(0,o.wy)((0,o.Wm)("div",r,[(0,o.Wm)(u,{dense:"",borderless:"",options:e.options,modelValue:e.item.pageSize,"onUpdate:modelValue":[t[2]||(t[2]=t=>e.item.pageSize=t),e.changeSelect]},null,8,["options","modelValue","onUpdate:modelValue"])],512),[[n.F8,e.showSelect]])])):(0,o.ry)("",!0)}const c=(0,o.aZ)({name:"Pagination",props:{item:{type:Object,default(){return{page:1,pageSize:10,pageNumber:0}}},showSelect:{type:Boolean,default:!1},options:{type:Array,default(){return[10,20,50,300]}}},setup(e,{emit:t}){const{item:i}=e,n=e=>{i.pageSize=e,t("change",i)},a=e=>{i.page=e,t("change",i)};return(0,o.bv)((()=>t("change",i))),{changeSelect:n,changePagination:a}}});var p=i(7300),s=i(7208),u=i(7518),m=i.n(u);c.render=d;const g=c;m()(c,"components",{QPagination:p.Z,QSelect:s.Z})},179:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>ee});var o=i(3673),n=i(2323),a=i(8880);const l=(0,o.HX)("data-v-0a5bc793");(0,o.dD)("data-v-0a5bc793");const r={class:"row"},d=(0,o.Wm)("div",{class:"text-h6"},"产品列表",-1),c={key:1},p={class:"row pagination-height q-pa-md"},s={class:"q-pa-md"},u=(0,o.Uk)("Warp Density"),m=(0,o.Uk)("Weft Density");(0,o.Cn)();const g=l(((e,t,i,g,h,f)=>{const y=(0,o.up)("q-space"),b=(0,o.up)("q-btn"),S=(0,o.up)("q-btn-group"),C=(0,o.up)("q-td"),w=(0,o.up)("q-table"),v=(0,o.up)("Pagination"),F=(0,o.up)("q-item-label"),q=(0,o.up)("q-range"),W=(0,o.up)("q-icon"),I=(0,o.up)("q-input"),P=(0,o.up)("q-select"),_=(0,o.up)("q-form"),V=(0,o.up)("q-scroll-area"),k=(0,o.up)("q-card-section"),D=(0,o.up)("q-card"),Q=(0,o.up)("q-dialog"),U=(0,o.up)("q-page-sticky");return(0,o.wg)(),(0,o.j4)(o.HY,null,[(0,o.Wm)("div",r,[(0,o.Wm)(w,{class:"table-height full-width",rows:e.rows,"table-header-style":{backgroundColor:"#dcdbdb"},"hide-pagination":"",onRequest:e.doSearch,columns:e.columns,"virtual-scroll":"",flat:"","row-key":"productId",pagination:{rowsPerPage:e.pagination.pageSize},selection:"multiple",selected:e.selected,"onUpdate:selected":t[2]||(t[2]=t=>e.selected=t)},{top:l((()=>[d,(0,o.Wm)(y),(0,o.Wm)(S,{outline:""},{default:l((()=>[(0,o.Wm)(b,{icon:"search",onClick:t[1]||(t[1]=t=>e.showDialog=!e.showDialog)})])),_:1})])),"body-cell":l((t=>[(0,o.Wm)(C,{props:t},{default:l((()=>["img"===t.col.name?((0,o.wg)(),(0,o.j4)("img",{key:0,src:t.value,style:{width:"80px",height:"60px"},onClick:i=>e.showPic(t.row)},null,8,["src","onClick"])):((0,o.wg)(),(0,o.j4)("div",c,(0,n.zw)(t.value),1))])),_:2},1032,["props"])])),_:1},8,["rows","onRequest","columns","pagination","selected"])]),(0,o.Wm)("div",p,[(0,o.Wm)(v,{class:"full-width",onChange:e.doSearch,item:e.pagination},null,8,["onChange","item"])]),(0,o.Wm)(Q,{modelValue:e.showDialog,"onUpdate:modelValue":t[18]||(t[18]=t=>e.showDialog=t),position:"right"},{default:l((()=>[(0,o.Wm)(D,null,{default:l((()=>[(0,o.Wm)(k,null,{default:l((()=>[(0,o.Wm)(V,{style:{width:"400px",height:"700px"}},{default:l((()=>[(0,o.Wm)("div",s,[(0,o.Wm)(F,{style:{color:"#00000099"}},{default:l((()=>[u])),_:1}),(0,o.Wm)(q,{modelValue:e.filterField.warpDensity,"onUpdate:modelValue":t[3]||(t[3]=t=>e.filterField.warpDensity=t),style:{color:"#FF0080"},"label-always":"",min:0,max:220},null,8,["modelValue"]),(0,o.Wm)(F,{style:{color:"#00000099"}},{default:l((()=>[m])),_:1}),(0,o.Wm)(q,{modelValue:e.filterField.weftDensity,"onUpdate:modelValue":t[4]||(t[4]=t=>e.filterField.weftDensity=t),style:{color:"#FF0080"},"label-always":"",min:0,max:150},null,8,["modelValue"])]),(0,o.Wm)(_,{class:"q-gutter-md"},{default:l((()=>[(0,o.Wm)(I,{modelValue:e.filterField.gfNumber,"onUpdate:modelValue":t[6]||(t[6]=t=>e.filterField.gfNumber=t),label:"GF Number"},{append:l((()=>[e.filterField.gfNumber&&""!==e.filterField.gfNumber?((0,o.wg)(),(0,o.j4)(W,{key:0,class:"cursor-pointer",name:"close",onClick:t[5]||(t[5]=t=>e.filterField.gfNumber="")})):(0,o.ry)("",!0)])),_:1},8,["modelValue"]),(0,o.Wm)(P,{modelValue:e.filterField.fabrication,"onUpdate:modelValue":t[8]||(t[8]=t=>e.filterField.fabrication=t),options:e.fabricationOptions,label:"Fabrication"},{append:l((()=>[e.filterField.fabrication&&""!==e.filterField.fabrication?((0,o.wg)(),(0,o.j4)(W,{key:0,class:"cursor-pointer",name:"close",onClick:t[7]||(t[7]=(0,a.iM)((t=>e.filterField.fabrication=""),["stop"]))})):(0,o.ry)("",!0)])),_:1},8,["modelValue","options"]),(0,o.Wm)(P,{modelValue:e.filterField.finishing,"onUpdate:modelValue":t[10]||(t[10]=t=>e.filterField.finishing=t),options:e.finishingOptions,label:"Finishing"},{append:l((()=>[e.filterField.finishing&&""!==e.filterField.finishing?((0,o.wg)(),(0,o.j4)(W,{key:0,class:"cursor-pointer",name:"close",onClick:t[9]||(t[9]=(0,a.iM)((t=>e.filterField.finishing=""),["stop"]))})):(0,o.ry)("",!0)])),_:1},8,["modelValue","options"]),(0,o.Wm)(P,{modelValue:e.filterField.dyeMethod,"onUpdate:modelValue":t[12]||(t[12]=t=>e.filterField.dyeMethod=t),options:e.dyeMethodOptions,label:"Dye Method"},{append:l((()=>[e.filterField.dyeMethod&&""!==e.filterField.dyeMethod?((0,o.wg)(),(0,o.j4)(W,{key:0,class:"cursor-pointer",name:"close",onClick:t[11]||(t[11]=(0,a.iM)((t=>e.filterField.dyeMethod=""),["stop"]))})):(0,o.ry)("",!0)])),_:1},8,["modelValue","options"]),(0,o.Wm)(P,{modelValue:e.filterField.fabricWidth,"onUpdate:modelValue":t[13]||(t[13]=t=>e.filterField.fabricWidth=t),options:e.fabricWidthOptions,multiple:"","use-chips":"","stack-label":"",label:"Fabric Width"},null,8,["modelValue","options"]),(0,o.Wm)(I,{modelValue:e.filterField.yarnCount,"onUpdate:modelValue":t[15]||(t[15]=t=>e.filterField.yarnCount=t),label:"Yarn Count",type:"number"},{append:l((()=>[e.filterField.yarnCount&&""!==e.filterField.yarnCount?((0,o.wg)(),(0,o.j4)(W,{key:0,class:"cursor-pointer",name:"close",onClick:t[14]||(t[14]=t=>e.filterField.yarnCount="")})):(0,o.ry)("",!0)])),_:1},8,["modelValue"]),(0,o.Wm)(P,{modelValue:e.filterField.composition,"onUpdate:modelValue":t[17]||(t[17]=t=>e.filterField.composition=t),options:e.compositionOptions,label:"Composition"},{append:l((()=>[e.filterField.composition&&""!==e.filterField.composition?((0,o.wg)(),(0,o.j4)(W,{key:0,class:"cursor-pointer",name:"close",onClick:t[16]||(t[16]=(0,a.iM)((t=>e.filterField.composition=""),["stop"]))})):(0,o.ry)("",!0)])),_:1},8,["modelValue","options"])])),_:1})])),_:1})])),_:1}),(0,o.Wm)(S,{class:"full-width",spread:""},{default:l((()=>[(0,o.Wm)(b,{style:{background:"#e7e7e7"},label:"Reset",onClick:e.resetSearch},null,8,["onClick"]),(0,o.Wm)(b,{style:{background:"#FF0080"},label:"Apply",onClick:e.doSearch},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.wy)((0,o.Wm)(U,{position:"bottom-right",offset:[18,60]},{default:l((()=>[(0,o.Wm)(b,{icon:"fas fa-cart-arrow-down",fab:"",size:"md",style:{background:"#fa3cbc",color:"white"},onClick:e.addToCart},null,8,["onClick"])])),_:1},512),[[a.F8,e.selected.length>0]])],64)}));var h,f=i(1959);(function(e){e["GET_PRODUCTS"]="/products",e["GET_PRODUCTS_PIC"]="/products/pictures"})(h||(h={}));const y=[];for(let te=1;te<=100;te++)y.push({productId:te+"",barcode:"barcode",img:"https://cdn.quasar.dev/img/parallax2.jpg",gfNumber:1e3*te+"",fabrication:"fabrication"+te,fabricWidth:["fabricWidth"+te],finishing:"finishing"+te,composition:"composition"+te,dyeMethod:"dyeMethod"+te,construction:"construction"+te});const b=e=>{const t=y.slice((e.page-1)*e.pageSize,e.pageSize*e.page);return new Promise((i=>{i({total:y.length,page:e.page,pageSize:e.pageSize,data:t})}))},S=function(){return new Promise((e=>{e([{label:"Oxford",value:"Oxford"},{label:"Twill(K)",value:"Twill(K)"},{label:"Poplin",value:"Poplin"}])}))},C=function(){return new Promise((e=>{e([{label:"Soft MC",value:"Soft MC"},{label:"Feather Soft",value:"Feather Soft"}])}))},w=function(){return new Promise((e=>{e([{label:"YD",value:"YD"},{label:"MD",value:"MD"}])}))},v=function(){return new Promise((e=>{e(['58/99"','57/99"','56/99"','55/99"'])}))},F=function(){return new Promise((e=>{e([{label:"100% Cotton",value:"100% Cotton"},{label:"70% Cotton 30% Tencel",value:"70% Cotton 30% Tencel"}])}))},q=e=>new Promise((e=>{e(["https://cdn.quasar.dev/img/mountains.jpg","https://cdn.quasar.dev/img/parallax1.jpg","https://cdn.quasar.dev/img/parallax2.jpg","https://cdn.quasar.dev/img/quasar.jpg"])}));var W=i(9783),I=i(8825);const P={class:"q-pa-md"};function _(e,t,i,n,a,l){const r=(0,o.up)("q-carousel-slide"),d=(0,o.up)("q-carousel"),c=(0,o.up)("q-dialog");return(0,o.wg)(),(0,o.j4)("div",P,[(0,o.Wm)(c,{ref:"dialogRef",onHide:e.onDialogHide,onShow:e.onDialogShow},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"full-width",animated:"",arrows:"",navigation:"",infinite:"",modelValue:e.slide,"onUpdate:modelValue":t[1]||(t[1]=t=>e.slide=t)},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.j4)(o.HY,null,(0,o.Ko)(e.items,((e,t)=>((0,o.wg)(),(0,o.j4)(r,{key:e,name:t,"img-src":e},null,8,["name","img-src"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["onHide","onShow"])])}var V=i(1701);const k=(0,o.aZ)({props:{items:{required:!0,type:Array},afterShow:Function,beforeHide:Function,handleClose:Function},emits:[...V.Z.emits],setup(e){const{dialogRef:t}=(0,V.Z)(),i=(0,f.iH)(0),o=()=>{e.afterShow&&e.afterShow()},n=()=>{e.beforeHide&&e.beforeHide()};return{slide:i,dialogRef:t,onDialogShow:o,onDialogHide:n}}});var D=i(6778),Q=i(1277),U=i(4593),T=i(7518),Z=i.n(T);k.render=_;const x=k;Z()(k,"components",{QDialog:D.Z,QCarousel:Q.Z,QCarouselSlide:U.Z});var N=i(31);const M=(0,o.aZ)({name:"Products",components:{Pagination:N.Z},setup(){const e=(0,f.iH)([]),t=(0,f.iH)([]),i=(0,f.iH)([]),o=(0,f.iH)([]),n=(0,f.iH)([]);S().then((t=>e.value=t)),C().then((e=>t.value=e)),w().then((e=>i.value=e)),v().then((e=>o.value=e)),F().then((e=>n.value=e));const a=[{name:"productId",align:"center",label:"",field:"productId",required:!1},{name:"barcode",align:"center",label:"",field:"barcode",required:!1},{name:"img",align:"center",label:"",field:"img"},{name:"gfNumber",label:"GF Number",field:"gfNumber",sortable:!0},{name:"fabrication",label:"Fabrication",field:"fabrication"},{name:"fabricWidth",label:"Fabrication Width",field:"fabricWidth"},{name:"finishing",label:"Finishing",field:"finishing"},{name:"composition",label:"Composition",field:"composition"},{name:"dyeMethod",label:"Dye Method",field:"dyeMethod"},{name:"construction",label:"Construction",field:"construction"}],l=(0,f.iH)([]),r=(0,f.iH)([]),d=(0,f.qj)({warpDensity:{min:50,max:220},weftDensity:{min:70,max:150},gfNumber:"",fabrication:"",fabricWidth:[],finishing:"",composition:"",dyeMethod:"",construction:""}),c=(0,f.iH)(!1),p=(0,f.qj)({page:1,pageSize:10,pageNumber:0}),{dialog:s}=(0,I.Z)(),u=function(e){q({productId:e.productId}).then((e=>{s({position:"standard",component:x,componentProps:{items:e}})}))},m=function(){W.q.addShoppingCartQuantity(r.value.map((e=>e.productId)))},g=function(){d.warpDensity={min:50,max:220},d.weftDensity={min:70,max:150},d.gfNumber="",d.fabrication="",d.fabricWidth=[],d.finishing="",d.composition="",d.dyeMethod="",d.construction=""},h=function(){b({page:p.page,pageSize:p.pageSize,data:d}).then((e=>{l.value=e.data;const t=e.total/e.pageSize;p.pageNumber=e.total%e.pageSize===0?t:Math.floor(t)+1,p.page=e.page,p.pageSize=e.pageSize})),c.value=!1};return{columns:a,fabricationOptions:e,finishingOptions:t,dyeMethodOptions:i,fabricWidthOptions:o,compositionOptions:n,showDialog:c,rows:l,filterField:d,pagination:p,selected:r,resetSearch:g,doSearch:h,addToCart:m,showPic:u}}});var j=i(8468),H=i(2025),O=i(6375),R=i(8240),A=i(3884),z=i(151),E=i(5589),G=i(7704),Y=i(2350),B=i(1391),K=i(5269),L=i(4842),X=i(4554),J=i(7208),$=i(1007);M.render=g,M.__scopeId="data-v-0a5bc793";const ee=M;Z()(M,"components",{QTable:j.Z,QSpace:H.Z,QBtnGroup:O.Z,QBtn:R.Z,QTd:A.Z,QDialog:D.Z,QCard:z.Z,QCardSection:E.Z,QScrollArea:G.Z,QItemLabel:Y.Z,QRange:B.Z,QForm:K.Z,QInput:L.Z,QIcon:X.Z,QSelect:J.Z,QPageSticky:$.Z})}}]);