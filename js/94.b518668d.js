(self["webpackChunkshowroom_web"]=self["webpackChunkshowroom_web"]||[]).push([[94],{9783:(e,t,o)=>{"use strict";o.d(t,{q:()=>b});var i,n=o(5718),a=o(6681),l=o(556),r=o(589),d=o(677),c=o(1959);(function(e){e["GET_SHOPPING_CART"]="/getShoppingCart",e["CLEAR_SHOPPING_CART"]="/doClearShoppingCart",e["ADD_TO_SHOPPING_CART"]="/addShoppingCart",e["ADD_SHOPPING_CART_QUANTITY"]="/addShoppingCartQuantity",e["DEL_SHOPPING_CART_QUANTITY"]="/delShoppingCartQuantity",e["EDIT_SHOPPING_CART_QUANTITY"]="/editShoppingCartQuantity"})(i||(i={}));const p=function(){const e=[];for(let t=1;t<=10;t++)e.push({productId:"productId".concat(t.toString()),barcode:"barcode".concat(t.toString()),gfNumber:"gfNumber".concat(t.toString()),quantity:t,img:"https://cdn.quasar.dev/img/parallax2.jpg",fabrication:"fabrication".concat(t.toString()),fabricWidth:"fabricWidth".concat(t.toString()),finishing:"finishing".concat(t.toString()),composition:"composition".concat(t.toString()),dyeMethod:"dyeMethod".concat(t.toString()),construction:"construction".concat(t.toString())});return new Promise((t=>{t(e)}))},s=function(){return new Promise((e=>{e(!0)}))},u=function(e){return new Promise((e=>{e(!0)}))},m=function(e){return new Promise((e=>{e(!0)}))};var g=function(e,t,o,i){var n,a=arguments.length,l=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,o,i);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(l=(a<3?n(l):a>3?n(t,o,l):n(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l},h=function(e,t,o,i){function n(e){return e instanceof o?e:new o((function(t){t(e)}))}return new(o||(o=Promise))((function(o,a){function l(e){try{d(i.next(e))}catch(t){a(t)}}function r(e){try{d(i["throw"](e))}catch(t){a(t)}}function d(e){e.done?o(e.value):n(e.value).then(l,r)}d((i=i.apply(e,t||[])).next())}))};const f="shoppingCart";(0,a.i)(f);let y=class extends n.g4{constructor(){super(...arguments),this.shoppingCartState=r.Z.getItem(d.EC)||[]}get getShoppingCartState(){return this.shoppingCartState}get getShoppingCartCountState(){let e=0;return this.shoppingCartState.forEach((t=>e+=t.quantity)),e}commitResetState(){this.shoppingCartState=[]}commitShoppingCartState(e){e.length>0&&(this.shoppingCartState=[]),this.shoppingCartState=e,r.Z.set(d.EC,e)}addToShoppingCart(e){const t=(0,c.IU)(this.shoppingCartState);!e||e instanceof Array||(e=[e]),e.forEach((e=>{const o=t.findIndex((t=>t.productId===e.productId));o>-1?t[o].quantity+=e.quantity:t.push({productId:e.productId,quantity:e.quantity})})),this.commitShoppingCartState(t)}deleteFromShoppingCart(e){const t=(0,c.IU)(this.shoppingCartState);e instanceof Array||(e=[e]),e.forEach((e=>{const o=t.findIndex((t=>t.productId===e.productId));let i=!1;o>-1&&(t[o].quantity-=e.quantity,i=t[o].quantity<1),i&&t.splice(o,1)})),this.commitShoppingCartState(t)}editShoppingCart(e){const t=(0,c.IU)(this.shoppingCartState);e instanceof Array||(e=[e]),e.forEach((e=>{const o=t.findIndex((t=>t.productId===e.productId));let i=!1;o>-1&&(t[o].quantity=e.quantity,i=t[o].quantity<1),i&&t.splice(o,1)})),this.commitShoppingCartState(t)}clearShoppingCart(){return h(this,void 0,void 0,(function*(){return s().then((()=>(this.commitShoppingCartState([]),!0))).catch((()=>!1))}))}loadShoppingCart(){return h(this,void 0,void 0,(function*(){return p().then((e=>{const t=[];return e.forEach((e=>{t.push({productId:e.productId,quantity:e.quantity})})),this.commitShoppingCartState(t),e})).catch((()=>[]))}))}addShoppingCartQuantity(e){return h(this,void 0,void 0,(function*(){return u({productId:e,action:"add"}).then((()=>(this.addToShoppingCart(e.map((e=>({productId:e,quantity:1})))),!0))).catch((()=>!1))}))}delShoppingCartQuantity(e){return h(this,void 0,void 0,(function*(){return u({productId:e,action:"del"}).then((()=>(this.deleteFromShoppingCart(e.map((e=>({productId:e,quantity:1})))),!0))).catch((()=>!1))}))}editShoppingCartQuantity(e){return h(this,void 0,void 0,(function*(){return m(e).then((()=>(this.editShoppingCart(e),!0))).catch((()=>!1))}))}};g([n.mm],y.prototype,"commitResetState",null),g([n.mm],y.prototype,"commitShoppingCartState",null),g([n.aU],y.prototype,"addToShoppingCart",null),g([n.aU],y.prototype,"deleteFromShoppingCart",null),g([n.aU],y.prototype,"editShoppingCart",null),g([n.aU],y.prototype,"clearShoppingCart",null),g([n.aU],y.prototype,"loadShoppingCart",null),g([n.aU],y.prototype,"addShoppingCartQuantity",null),g([n.aU],y.prototype,"delShoppingCartQuantity",null),g([n.aU],y.prototype,"editShoppingCartQuantity",null),y=g([(0,n.Yl)({namespaced:!0,name:f,dynamic:!0,store:l.default})],y);const b=(0,n.rT)(y)},5388:(e,t,o)=>{"use strict";o.d(t,{Z:()=>g});var i=o(3673),n=o(8880);const a={key:0,class:"row"},l={class:"col-4 q-py-md"},r={class:"col-1 q-pl-xs",style:{width:"50px"}};function d(e,t,o,d,c,p){const s=(0,i.up)("q-pagination"),u=(0,i.up)("q-select");return e.item.pageNumber>0?((0,i.wg)(),(0,i.j4)("div",a,[(0,i.Wm)("div",l,[(0,i.Wm)(s,{modelValue:e.item.page,"onUpdate:modelValue":[t[1]||(t[1]=t=>e.item.page=t),e.changePagination],max:e.item.pageNumber,"max-pages":5,"direction-links":""},null,8,["modelValue","max","onUpdate:modelValue"])]),(0,i.wy)((0,i.Wm)("div",r,[(0,i.Wm)(u,{dense:"",borderless:"",options:e.options,modelValue:e.item.pageSize,"onUpdate:modelValue":[t[2]||(t[2]=t=>e.item.pageSize=t),e.changeSelect]},null,8,["options","modelValue","onUpdate:modelValue"])],512),[[n.F8,e.showSelect]])])):(0,i.ry)("",!0)}const c=(0,i.aZ)({name:"Pagination",props:{item:{type:Object,default(){return{page:1,pageSize:10,pageNumber:0}}},showSelect:{type:Boolean,default:!1},options:{type:Array,default(){return[10,20,50,300]}}},setup(e,{emit:t}){const{item:o}=e,n=e=>{o.pageSize=e,t("change",o)},a=e=>{o.page=e,t("change",o)};return(0,i.bv)((()=>t("change",o))),{changeSelect:n,changePagination:a}}});var p=o(7300),s=o(7208),u=o(7518),m=o.n(u);c.render=d;const g=c;m()(c,"components",{QPagination:p.Z,QSelect:s.Z})},6094:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>te});var i=o(3673),n=o(2323),a=o(8880);const l=(0,i.HX)("data-v-688236a4");(0,i.dD)("data-v-688236a4");const r={class:"row table-height"},d=(0,i.Wm)("div",{class:"text-h6"},"产品列表",-1),c={key:1},p={class:"row pagination-height q-pa-md"},s={class:"q-pa-md"},u=(0,i.Uk)("Warp Density"),m=(0,i.Uk)("Weft Density");(0,i.Cn)();const g=l(((e,t,o,g,h,f)=>{const y=(0,i.up)("q-space"),b=(0,i.up)("q-btn"),S=(0,i.up)("q-btn-group"),C=(0,i.up)("q-td"),w=(0,i.up)("q-table"),v=(0,i.up)("Pagination"),F=(0,i.up)("q-item-label"),q=(0,i.up)("q-range"),W=(0,i.up)("q-icon"),I=(0,i.up)("q-input"),P=(0,i.up)("q-select"),_=(0,i.up)("q-form"),V=(0,i.up)("q-scroll-area"),k=(0,i.up)("q-card-section"),D=(0,i.up)("q-card-actions"),Q=(0,i.up)("q-card"),U=(0,i.up)("q-dialog"),Z=(0,i.up)("q-page-sticky");return(0,i.wg)(),(0,i.j4)(i.HY,null,[(0,i.Wm)("div",r,[(0,i.Wm)(w,{class:"full-width",rows:e.rows,"table-header-style":{backgroundColor:"#dcdbdb"},"hide-pagination":"",onRequest:e.doSearch,columns:e.columns,"virtual-scroll":"",flat:"","row-key":"productId",pagination:{rowsPerPage:e.pagination.pageSize},selection:"multiple",selected:e.selected,"onUpdate:selected":t[2]||(t[2]=t=>e.selected=t)},{top:l((()=>[d,(0,i.Wm)(y),(0,i.Wm)(S,{outline:""},{default:l((()=>[(0,i.Wm)(b,{icon:"search",onClick:t[1]||(t[1]=t=>e.showDialog=!e.showDialog)})])),_:1})])),"body-cell":l((t=>[(0,i.Wm)(C,{props:t},{default:l((()=>["img"===t.col.name?((0,i.wg)(),(0,i.j4)("img",{key:0,src:t.value,style:{width:"80px",height:"60px"},onClick:o=>e.showPic(t.row)},null,8,["src","onClick"])):((0,i.wg)(),(0,i.j4)("div",c,(0,n.zw)(t.value),1))])),_:2},1032,["props"])])),_:1},8,["rows","onRequest","columns","pagination","selected"])]),(0,i.Wm)("div",p,[(0,i.Wm)(v,{class:"full-width",onChange:e.doSearch,item:e.pagination},null,8,["onChange","item"])]),(0,i.Wm)(U,{modelValue:e.showDialog,"onUpdate:modelValue":t[18]||(t[18]=t=>e.showDialog=t),position:"right"},{default:l((()=>[(0,i.Wm)(Q,null,{default:l((()=>[(0,i.Wm)(k,null,{default:l((()=>[(0,i.Wm)(V,{style:{width:"400px",height:"700px"}},{default:l((()=>[(0,i.Wm)("div",s,[(0,i.Wm)(F,{style:{color:"#00000099"}},{default:l((()=>[u])),_:1}),(0,i.Wm)(q,{modelValue:e.filterField.warpDensity,"onUpdate:modelValue":t[3]||(t[3]=t=>e.filterField.warpDensity=t),style:{color:"#FF0080"},"label-always":"",min:0,max:220},null,8,["modelValue"]),(0,i.Wm)(F,{style:{color:"#00000099"}},{default:l((()=>[m])),_:1}),(0,i.Wm)(q,{modelValue:e.filterField.weftDensity,"onUpdate:modelValue":t[4]||(t[4]=t=>e.filterField.weftDensity=t),style:{color:"#FF0080"},"label-always":"",min:0,max:150},null,8,["modelValue"])]),(0,i.Wm)(_,{class:"q-gutter-md"},{default:l((()=>[(0,i.Wm)(I,{modelValue:e.filterField.gfNumber,"onUpdate:modelValue":t[6]||(t[6]=t=>e.filterField.gfNumber=t),label:"GF Number"},{append:l((()=>[e.filterField.gfNumber&&""!==e.filterField.gfNumber?((0,i.wg)(),(0,i.j4)(W,{key:0,class:"cursor-pointer",name:"close",onClick:t[5]||(t[5]=t=>e.filterField.gfNumber="")})):(0,i.ry)("",!0)])),_:1},8,["modelValue"]),(0,i.Wm)(P,{modelValue:e.filterField.fabrication,"onUpdate:modelValue":t[8]||(t[8]=t=>e.filterField.fabrication=t),options:e.fabricationOptions,label:"Fabrication"},{append:l((()=>[e.filterField.fabrication&&""!==e.filterField.fabrication?((0,i.wg)(),(0,i.j4)(W,{key:0,class:"cursor-pointer",name:"close",onClick:t[7]||(t[7]=(0,a.iM)((t=>e.filterField.fabrication=""),["stop"]))})):(0,i.ry)("",!0)])),_:1},8,["modelValue","options"]),(0,i.Wm)(P,{modelValue:e.filterField.finishing,"onUpdate:modelValue":t[10]||(t[10]=t=>e.filterField.finishing=t),options:e.finishingOptions,label:"Finishing"},{append:l((()=>[e.filterField.finishing&&""!==e.filterField.finishing?((0,i.wg)(),(0,i.j4)(W,{key:0,class:"cursor-pointer",name:"close",onClick:t[9]||(t[9]=(0,a.iM)((t=>e.filterField.finishing=""),["stop"]))})):(0,i.ry)("",!0)])),_:1},8,["modelValue","options"]),(0,i.Wm)(P,{modelValue:e.filterField.dyeMethod,"onUpdate:modelValue":t[12]||(t[12]=t=>e.filterField.dyeMethod=t),options:e.dyeMethodOptions,label:"Dye Method"},{append:l((()=>[e.filterField.dyeMethod&&""!==e.filterField.dyeMethod?((0,i.wg)(),(0,i.j4)(W,{key:0,class:"cursor-pointer",name:"close",onClick:t[11]||(t[11]=(0,a.iM)((t=>e.filterField.dyeMethod=""),["stop"]))})):(0,i.ry)("",!0)])),_:1},8,["modelValue","options"]),(0,i.Wm)(P,{modelValue:e.filterField.fabricWidth,"onUpdate:modelValue":t[13]||(t[13]=t=>e.filterField.fabricWidth=t),options:e.fabricWidthOptions,multiple:"","use-chips":"","stack-label":"",label:"Fabric Width"},null,8,["modelValue","options"]),(0,i.Wm)(I,{modelValue:e.filterField.yarnCount,"onUpdate:modelValue":t[15]||(t[15]=t=>e.filterField.yarnCount=t),label:"Yarn Count",type:"number"},{append:l((()=>[e.filterField.yarnCount&&""!==e.filterField.yarnCount?((0,i.wg)(),(0,i.j4)(W,{key:0,class:"cursor-pointer",name:"close",onClick:t[14]||(t[14]=t=>e.filterField.yarnCount="")})):(0,i.ry)("",!0)])),_:1},8,["modelValue"]),(0,i.Wm)(P,{modelValue:e.filterField.composition,"onUpdate:modelValue":t[17]||(t[17]=t=>e.filterField.composition=t),options:e.compositionOptions,label:"Composition"},{append:l((()=>[e.filterField.composition&&""!==e.filterField.composition?((0,i.wg)(),(0,i.j4)(W,{key:0,class:"cursor-pointer",name:"close",onClick:t[16]||(t[16]=(0,a.iM)((t=>e.filterField.composition=""),["stop"]))})):(0,i.ry)("",!0)])),_:1},8,["modelValue","options"])])),_:1})])),_:1})])),_:1}),(0,i.Wm)(D,{align:"around"},{default:l((()=>[(0,i.Wm)(b,{style:{background:"#e7e7e7"},label:"Reset",onClick:e.resetSearch},null,8,["onClick"]),(0,i.Wm)(b,{style:{background:"#FF0080"},label:"Apply",onClick:e.doSearch},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.wy)((0,i.Wm)(Z,{position:"bottom-right",offset:[18,60]},{default:l((()=>[(0,i.Wm)(b,{icon:"fas fa-cart-arrow-down",fab:"",size:"md",style:{background:"#fa3cbc",color:"white"},onClick:e.addToCart},null,8,["onClick"])])),_:1},512),[[a.F8,e.selected.length>0]])],64)}));var h,f=o(1959);(function(e){e["GET_PRODUCTS"]="/products",e["GET_PRODUCTS_PIC"]="/products/pictures"})(h||(h={}));const y=[];for(let oe=1;oe<=100;oe++)y.push({productId:oe+"",barcode:"barcode",img:"https://cdn.quasar.dev/img/parallax2.jpg",gfNumber:1e3*oe+"",fabrication:"fabrication"+oe,fabricWidth:["fabricWidth"+oe],finishing:"finishing"+oe,composition:"composition"+oe,dyeMethod:"dyeMethod"+oe,construction:"construction"+oe});const b=e=>{const t=y.slice((e.page-1)*e.pageSize,e.pageSize*e.page);return new Promise((o=>{o({total:y.length,page:e.page,pageSize:e.pageSize,data:t})}))},S=function(){return new Promise((e=>{e([{label:"Oxford",value:"Oxford"},{label:"Twill(K)",value:"Twill(K)"},{label:"Poplin",value:"Poplin"}])}))},C=function(){return new Promise((e=>{e([{label:"Soft MC",value:"Soft MC"},{label:"Feather Soft",value:"Feather Soft"}])}))},w=function(){return new Promise((e=>{e([{label:"YD",value:"YD"},{label:"MD",value:"MD"}])}))},v=function(){return new Promise((e=>{e(['58/99"','57/99"','56/99"','55/99"'])}))},F=function(){return new Promise((e=>{e([{label:"100% Cotton",value:"100% Cotton"},{label:"70% Cotton 30% Tencel",value:"70% Cotton 30% Tencel"}])}))},q=e=>new Promise((e=>{e(["https://cdn.quasar.dev/img/mountains.jpg","https://cdn.quasar.dev/img/parallax1.jpg","https://cdn.quasar.dev/img/parallax2.jpg","https://cdn.quasar.dev/img/quasar.jpg"])}));var W=o(9783),I=o(8825);const P={class:"q-pa-md"};function _(e,t,o,n,a,l){const r=(0,i.up)("q-carousel-slide"),d=(0,i.up)("q-carousel"),c=(0,i.up)("q-dialog");return(0,i.wg)(),(0,i.j4)("div",P,[(0,i.Wm)(c,{ref:"dialogRef",onHide:e.onDialogHide,onShow:e.onDialogShow},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{class:"full-width",animated:"",arrows:"",navigation:"",infinite:"",modelValue:e.slide,"onUpdate:modelValue":t[1]||(t[1]=t=>e.slide=t)},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.j4)(i.HY,null,(0,i.Ko)(e.items,((e,t)=>((0,i.wg)(),(0,i.j4)(r,{key:e,name:t,"img-src":e},null,8,["name","img-src"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["onHide","onShow"])])}var V=o(1701);const k=(0,i.aZ)({props:{items:{required:!0,type:Array},afterShow:Function,beforeHide:Function,handleClose:Function},emits:[...V.Z.emits],setup(e){const{dialogRef:t}=(0,V.Z)(),o=(0,f.iH)(0),i=()=>{e.afterShow&&e.afterShow()},n=()=>{e.beforeHide&&e.beforeHide()};return{slide:o,dialogRef:t,onDialogShow:i,onDialogHide:n}}});var D=o(6778),Q=o(1277),U=o(4593),Z=o(7518),T=o.n(Z);k.render=_;const x=k;T()(k,"components",{QDialog:D.Z,QCarousel:Q.Z,QCarouselSlide:U.Z});var N=o(5388);const M=(0,i.aZ)({name:"Products",components:{Pagination:N.Z},setup(){const e=(0,f.iH)([]),t=(0,f.iH)([]),o=(0,f.iH)([]),i=(0,f.iH)([]),n=(0,f.iH)([]);S().then((t=>e.value=t)),C().then((e=>t.value=e)),w().then((e=>o.value=e)),v().then((e=>i.value=e)),F().then((e=>n.value=e));const a=[{name:"productId",align:"center",label:"",field:"productId",required:!1},{name:"barcode",align:"center",label:"",field:"barcode",required:!1},{name:"img",align:"center",label:"",field:"img"},{name:"gfNumber",label:"GF Number",field:"gfNumber",sortable:!0},{name:"fabrication",label:"Fabrication",field:"fabrication"},{name:"fabricWidth",label:"Fabrication Width",field:"fabricWidth"},{name:"finishing",label:"Finishing",field:"finishing"},{name:"composition",label:"Composition",field:"composition"},{name:"dyeMethod",label:"Dye Method",field:"dyeMethod"},{name:"construction",label:"Construction",field:"construction"}],l=(0,f.iH)([]),r=(0,f.iH)([]),d=(0,f.qj)({warpDensity:{min:50,max:220},weftDensity:{min:70,max:150},gfNumber:"",fabrication:"",fabricWidth:[],finishing:"",composition:"",dyeMethod:"",construction:""}),c=(0,f.iH)(!1),p=(0,f.qj)({page:1,pageSize:10,pageNumber:0}),{dialog:s}=(0,I.Z)(),u=function(e){q({productId:e.productId}).then((e=>{s({position:"standard",component:x,componentProps:{items:e}})}))},m=function(){W.q.addShoppingCartQuantity(r.value.map((e=>e.productId)))},g=function(){d.warpDensity={min:50,max:220},d.weftDensity={min:70,max:150},d.gfNumber="",d.fabrication="",d.fabricWidth=[],d.finishing="",d.composition="",d.dyeMethod="",d.construction=""},h=function(){b({page:p.page,pageSize:p.pageSize,data:d}).then((e=>{l.value=e.data;const t=e.total/e.pageSize;p.pageNumber=e.total%e.pageSize===0?t:Math.floor(t)+1,p.page=e.page,p.pageSize=e.pageSize})),c.value=!1};return{columns:a,fabricationOptions:e,finishingOptions:t,dyeMethodOptions:o,fabricWidthOptions:i,compositionOptions:n,showDialog:c,rows:l,filterField:d,pagination:p,selected:r,resetSearch:g,doSearch:h,addToCart:m,showPic:u}}});var j=o(8468),H=o(2025),O=o(6375),R=o(8240),A=o(3884),z=o(151),E=o(5589),G=o(7704),Y=o(2350),B=o(1391),K=o(5269),L=o(4842),X=o(4554),J=o(7208),$=o(9367),ee=o(1007);M.render=g,M.__scopeId="data-v-688236a4";const te=M;T()(M,"components",{QTable:j.Z,QSpace:H.Z,QBtnGroup:O.Z,QBtn:R.Z,QTd:A.Z,QDialog:D.Z,QCard:z.Z,QCardSection:E.Z,QScrollArea:G.Z,QItemLabel:Y.Z,QRange:B.Z,QForm:K.Z,QInput:L.Z,QIcon:X.Z,QSelect:J.Z,QCardActions:$.Z,QPageSticky:ee.Z})}}]);